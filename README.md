<div align="center">

# SpartanArcher
스파르타 내일배움캠프에서 Unity 기능을 익히기 위해 궁수의 전설을 레퍼런스로 진행한 팀 프로젝트입니다.

</div>
  
----
  
## 📌 프로젝트 개요
- **프로젝트**: Spartan Archer Project  
- **개발환경**: Unity, C#  
- **개발인원**: 4명 (손치완, 서상원, 강기수, 정형권)  
- **타임라인**:  
  🔹25.02.21 (금) 프로젝트 시작, 게임 기획 및 와이어프레임 작성.  
  🔹25.02.27 (목) 프로젝트 v1 완성.  
- **주요기능**:  
  - 튜토리얼 
  - 맵 랜덤 생성 
  - 몬스터 랜덤 생성 
  - 스킬 선택 로직 
  - 액티브 스킬 사용 
  - 보스 패턴 
----
  
## 🎮 게임 설명
탑다운 형식의 스테이지 클리어 로그라이크 슈팅 게임으로 2D를 기반으로 만들었습니다.  
화면 비율은 16:9 이며 좌우로 진행하는 방식입니다. 


----

## 🎥 게임 시연 영상


----
  
## 🕹️ 플레이 방법
시작 시 Tutorial을 통해서 기본 조작과 시스템을 익힐 수 있도록 하였고 GameStart를 통해서 게임을 시작합니다.  
매 라운드마다 랜덤한 방과 랜덤한 몬스터가 생성되며 몬스터를 처치시 점수를 획득할 수 있습니다.  
그리고 라운드를 클리어시 스킬을 선택하여 성장 할 수 있고 다음 라운드로 이동됩니다.  
10 라운드마다 보스를 배치해 두어 더 어려운 난이도에 도전할 수 있도록 만들었습니다.

----
  
## 🛠️ 주요 기능
#### 1️⃣ 튜토리얼 
튜토리얼 메뉴를 선택하여 튜토리얼 맵으로 진입해서 게임 기본 조작과 시스템을 설명해주도록 구성
![GR1](https://github.com/user-attachments/assets/c4f73c69-dd9a-49af-a1ef-843f353e0f13)

#### 2️⃣ 맵 랜덤 생성

#### 3️⃣ 몬스터 랜덤 생성 

#### 4️⃣ 스킬 선택 로직 
![GR2](https://github.com/user-attachments/assets/c468ac21-1777-4510-9f67-1cd192460ba5)

#### 5️⃣ 액티브 스킬 사용 
![GR3](https://github.com/user-attachments/assets/361acd7a-19db-47ff-9c18-4e62f2964963)

#### 6️⃣ 보스 패턴 
![GR4](https://github.com/user-attachments/assets/0e93244c-e9e3-4c70-ad76-291468ffe892)

----
  
## 🚀 트러블슈팅 (문제해결)
#### 1️⃣ Prefab
- 문제: Prefab으로 지정해 게임 중 불러오는 `Map` 인스턴스가 다음 `Map` 인스턴스가 불려온 뒤에도 사라지지 않고 계속해서 남는 문제가 있었다.
- 원인: Prefab 인스턴스를 파괴하는 로직을 추가하지 않았다.
- 해결: 🔵 (1차 시도) 불러올 Prefab을 `lastMap` 변수에 저장함으로써, 다음 Prefab을 불러올 때 `Destroy()` 메서드를 활용해 인스턴스를 지우도록 했다. 🔵 그러나, `lastMap`에 저장된 것은 Prefab 그 자체로, 게임에서 생성된 인스턴스가 아니었기 때문에 파괴되지 않았다.
-  🔵 (2차 시도) Prefab을 불러오는 `Instatiate()` 전체를 `lastMap` 변수에 저장함으로써, 생성된 인스턴스가 파괴될 수 있도록 수정해 해결했다.  
#### 2️⃣ 2차 발사체 문제
- 문제: 발사체 벽 충돌 후 2차 발사체 재생성 시 collision.ClosestPoint를 이용하여 해당 위치에 2차 발사체 재생성 하는 분명 생성했는데 발사체가 사라졌다.
- 원인:  생성되자마자 해당 위치가 collision과 겹쳐있어서 발사체가 collision과 겹친 것 때문이었다.
- 해결: 벽과 충돌했을때 벽면을 구하고 벽의 반대편에 살짝 띄워서 발사체를 생성하기로 변경했다.  
1차 발사체의 위치를 구해서 collision충돌위치를 뺴서 normalized 하여 발사체가 온 방향의 반대방향을 
구한 후에 해당 값으로 벽의 상,하,좌,우를 판단하여 일정값 띄워준 다음 2차 발사체를 재생성했습니다.  
#### 3️⃣ 몬스터 길찾기
- 문제: 몬스터가 장애물 오브젝트와 부딪힌 이후 더 이상 이동하지 못하는 문제가 있었다.
- 원인: 몬스터의 collider와 장애물의 collider가 서로 면 대 면으로 맞닿고, 몬스터의 진행 방향이 충돌한 면과 수직이기 때문이었다.
- 해결: 🔵 (다양한 방안 제시) Unity 3D 프로젝트에서 사용하는 NavMesh 기능을 사용하거나, 몬스터가 일정한 지점을 통과하도록 해 장애물을 피하도록 하는 길찾기 기능을 사용할 수 있다. 🔵 (1차 시도) 몬스터의 collider 크기를 조절하고, 장애물의 collider 모양을 수정함으로써, 몬스터의 진행 방향과 충돌한 면이 수직이 되는 부분을 줄여 문제를 해결하려고 시도했다.  
  🔵 그러나, 여전히 몬스터가 장애물에 ‘비비는’ 현상이 발생했다.  
  🔵 (2차 시도) `Raycast2D` 의 기능을 활용해, 몬스터와 플레이어 사이에 장애물이 있으면 몬스터가 플레이어를 추적하지 않도록 수정함으로써 장애물에 막혀 갇히는 문제를 해결했다.  
#### 4️⃣ GitHub

